var ee=Object.create;var S=Object.defineProperty,te=Object.defineProperties,re=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,ie=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var V=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))G.call(t,r)&&V(e,r,t[r]);if(v)for(var r of v(t))se.call(t,r)&&V(e,r,t[r]);return e},A=(e,t)=>te(e,ne(t)),D=e=>S(e,"__esModule",{value:!0});var le=(e,t)=>{for(var r in t)S(e,r,{get:t[r],enumerable:!0})},F=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oe(t))!G.call(e,o)&&(r||o!=="default")&&S(e,o,{get:()=>t[o],enumerable:!(n=re(t,o))||n.enumerable});return e},L=(e,t)=>F(D(S(e!=null?ee(ie(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ce=(e=>(t,r)=>e&&e.get(t)||(r=F(D({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Be={};le(Be,{options:()=>U,parsers:()=>Ne});var X=require("prettier/parser-typescript"),Z=require("prettier/parser-babel");function j(e){return[...e].sort((t,r)=>{let n=t.importPath,o=r.importPath;return n<o?-1:n>o?1:0})}function $(e){return[...e].sort((t,r)=>{let n=t.import.getText().length,o=r.import.getText().length;return n===o&&t.importPath&&r.importPath?r.importPath.length-t.importPath.length:o-n})}var p=L(require("typescript"));function pe(e){if(e.importTypeOrder.length!==0){if(e.importTypeOrder.includes("all")){if(e.importTypeOrder.length>1)throw new Error(`You cannot use the "${"all"}" import type with other types.`);return}if(e.importTypeOrder.includes("localImports")&&(e.importTypeOrder.includes("localImportsValue")||e.importTypeOrder.includes("localImportsType")))throw new Error(`You cannot use the "${"localImports"}" import type with other local import types. Choose between either using "${"localImports"}" (so all local imports) or specifying the order in which local imports are sorted by specifying both type and value options.`);if(e.importTypeOrder.includes("localImportsType")!==e.importTypeOrder.includes("localImportsValue"))throw new Error(`You must specify both the "${"localImportsType"}" and "${"localImportsValue"}" import types or use the "${"localImports"}" type that captures them both.`);if((e.importTypeOrder.includes("localImportsType")||e.importTypeOrder.includes("localImportsValue")||e.importTypeOrder.includes("localImports")||e.importTypeOrder.includes("NPMPackages"))&&(e.importTypeOrder.includes("localImportsType")||e.importTypeOrder.includes("localImportsValue")||e.importTypeOrder.includes("localImports"))!==e.importTypeOrder.includes("NPMPackages"))throw new Error(`You must specify one local-value import type (such as "${"localImports"}") and one npm-package import type (such as "${"NPMPackages"}") or none at all.`)}}function K(e){pe(e)}var U={sortingMethod:{since:"1.15.0",category:"Global",type:"choice",default:"lineLength",description:"Which sorting method to use",choices:[{value:"alphabetical",description:"Sort imports alphabetically by the import path"},{value:"lineLength",description:"Sort by line length, descending"}]},stripNewlines:{since:"1.15.0",category:"Global",type:"boolean",default:!1,description:"Whether to strip newlines between blocks (joining blocks)"},importTypeOrder:{since:"1.15.0",category:"Global",array:!0,type:"choice",default:[{value:["all"]}],description:"Order in which to sort import types. Does not take import type into account by default.",choices:[{value:"NPMPackages",description:"NPM packages, inferred from your package.json file"},{value:"localImportsValue",description:"Value imports from within this project. Value imports are all non type-only imports"},{value:"localImportsType",description:"Type imports from within this project. Only available in typescript."},{value:"localImports",description:`All imports from within this project. Cannot be used together with any of the other "${"localImports"}" options`},{value:"all",description:"Every type of import. This is the default and means import type is not taken into account."}]},packageJSONFiles:{since:"1.15.0",category:"Global",array:!0,type:"string",default:[{value:["./package.json"]}],description:"Paths to package.json files relative to the .prettierrc.json file. These files will be used to infer NPM packages"},newlineBetweenTypes:{since:"1.15.0",category:"Global",type:"boolean",default:!1,description:"Puts a newline between imports of different groups (see importTypeOrder)"}};var W=require("module"),m=L(require("path")),I=L(require("fs")),H=L(require("os"));function ue(e){let t=o=>{try{return I.statSync(o).isDirectory()}catch(l){if(l.code==="ENOENT")return!1;throw l}},r=function*(){let l=m.resolve(H.homedir()),c=m.dirname(m.resolve(e));yield c;let i=c;for(;i!==l;){let s=m.dirname(i);if(s===i)break;yield s,i=s}}();if(r.next().done)throw new Error;for(let o of r)if(t(o))for(let l of[".prettierrc",".prettierrc.json",".prettierrc.json5",".prettierrc.yaml",".prettierrc.yml",".prettierrc.js",".prettierrc.cjs",".prettierrc.mjs","prettier.config.js","prettier.config.cjs","prettier.config.mjs",".prettierrc.toml"]){let c=m.join(o,l);if(I.existsSync(c))return c}return null}function me(e,t){let r=[],n,o=process.cwd();for(let c of t){let i=(()=>{if(m.isAbsolute(c))return c;{let s=ue(e);s&&(n=m.dirname(s));let a=n!=null?n:o;return m.join(a,c)}})();try{let s=I.readFileSync(i,"utf8"),a=JSON.parse(s);if(a.dependencies)for(let u in a.dependencies)r.push(u);if(a.devDependencies)for(let u in a.devDependencies)r.push(u)}catch(s){console.warn("Failed to read/parse package.json file:",i)}}return[...new Set(r)]}function z(e,t){let r=[];for(let n=0;n<e.length;n++){let o=e[n];t.includes(o)&&(r[n]=t.indexOf(o))}if(r.length!==e.length||r.length!==t.length)throw new Error("Unknown import type specified");return r}var g=class{constructor(t){this.values=t}};function w(e){return(...t)=>{let r=[];for(let n of e){let o=t[n];r.push(o)}return r}}var fe=W.builtinModules.filter(e=>!e.startsWith("_"));function J(e,t){let r=t.slice(1,-1);return[...e,...fe].some(n=>r.startsWith(n))}function ge(...e){for(let t of e)if(t!==-1)return t;return-1}function q({importTypeOrder:e,packageJSONFiles:t,filepath:r,sortingMethod:n,newlineBetweenTypes:o}){if(e.includes("all"))return;let l=me(r,t);if(e.includes("localImportsValue")||e.includes("localImportsType")){let i=w(z(e,["localImportsValue","localImportsType","NPMPackages"])),s=e.indexOf("NPMPackages")<ge(e.indexOf("localImportsValue"),e.indexOf("localImports")),a=w(s?[0,1]:[1,0]);return u=>{let f=[],d=[],b=[],E=[];for(let h of u){let _=J(l,h.importPath);h.isTypeOnly?_?E.push(h):d.push(h):_?b.push(h):f.push(h)}return n==="lineLength"&&o?i(f,[...E,...d],b):i(f,new g(a(E,d)),b)}}let c=w(z(e,["NPMPackages","localImports"]));return i=>{let s=[],a=[];for(let u of i)J(l,u.importPath)?a.push(u):s.push(u);return c(a,s)}}var de=1e3*60*2.5;function C(e,t){let r=0;for(;e.includes(t);){r++;let n=e.indexOf(t);e=e.slice(0,n)+e.slice(n+1)}return r}var P=Symbol("importNewline");function he(e,t){let r=p.getTrailingCommentRanges(e,t.getFullStart()+t.getFullWidth());return r?r[r.length-1]:null}function Ie(e,t){let r=p.getLeadingCommentRanges(e,t.getFullStart());return r?r[0]:null}function Se(e,t,r,n,o){let c=e[e.length-1].length,i=r.getStart(),s=Ie(t,r);s&&!Le(t,s)&&c!==0&&(i=s.pos);let a=r.end,u=he(t,r);return u&&(a=u.end),{import:r,start:i,importPath:n,end:a,isTypeOnly:o,startLine:M(t,i),endLine:M(t,a)}}function ye(e,t,r){for(let n of r)if(t>=n.start&&t<n.end||e>=n.start&&e<n.end)return!0;return!1}function Le(e,t){let r=e.slice(t.pos,t.end);return r.includes(N)||r.includes(B)}function Pe(e){if(p.isImportDeclaration(e))return e.moduleSpecifier.getText();{if(e.declarationList.declarations.length!==1)return null;let t=e.declarationList.declarations[0];if(!p.isVariableDeclaration(t))return null;let r=t.initializer;return!r||!p.isCallExpression(r)?null:r.arguments[0].getText()}}function Oe(e,t,r){var c;let n=[[]],o=e.getChildren()[0].kind===p.SyntaxKind.SyntaxList?e.getChildren()[0].getChildren():e.getChildren(),l=null;for(let i of o)if(p.isImportDeclaration(i)||p.isVariableStatement(i)&&i.declarationList&&i.declarationList.declarations.length===1&&p.isVariableDeclaration(i.declarationList.declarations[0])&&i.declarationList.declarations[0].initializer&&p.isCallExpression(i.declarationList.declarations[0].initializer)&&i.declarationList.declarations[0].initializer.expression.getText()==="require"){if(l){let a=i.getStart(),u=l.end,f=p.getLeadingCommentRanges(e.getFullText(),i.getFullStart());f&&f.length&&(a=f[0].pos);let d=e.getFullText().slice(u,a);if(ye(a,i.getEnd(),r)){n.push([]),l=null;continue}t&&d.trim()!==""?n.push([]):!t&&C(d,`
`)>1&&n.push([])}let s=Pe(i);if(s){let a=Se(n,e.getFullText(),i,s,!!(p.isImportDeclaration(i)&&((c=i.importClause)==null?void 0:c.isTypeOnly)));l=a,n[n.length-1].push(a)}else l=null}return n.filter(i=>i.length>0)}function Te(e){return e.map(t=>t===P?t:t.startsWith(`
`)?t.slice(1):t)}function be(e,t,r){let n=r?r(e):[e],o=t.sortingMethod==="alphabetical"?j:$,c=n.map(s=>s instanceof g?new g(s.values.map(o)):o(s)).filter(s=>s instanceof g?s.values.filter(a=>a.length>0).length>0:s.length>0),i=[];for(let s=0;s<c.length;s++){let a=c[s];if(a instanceof g)for(let u of a.values)i=i.concat(u);else i=i.concat(a);t.newlineBetweenTypes&&s<c.length-1&&i.push(P)}return i}function Ee(e,t,r,n){if(e.length===0)return t;let o=be(e,r,n),l=t.split(`
`),c=[];for(let s of o)s===P?c.push(s):c.push(...l.slice(s.startLine,s.endLine+1));r.stripNewlines&&(c=Te(c));let i=c.map(s=>s===P?"":s);return[...l.slice(0,e[0].startLine),...i,...l.slice(e[e.length-1].endLine+1)].join(`
`)}var N="sort-imports-begin-ignore",O=[`//${N}`,`// ${N}`],B="sort-imports-end-ignore",R=[`//${B}`,`// ${B}`];function x(e,t){for(let r of t){let n=e.indexOf(r);if(n!==-1)return n}return-1}function ke(e,t){let r=O.reduce((o,l)=>o+C(t,l),0),n=R.reduce((o,l)=>o+C(t,l),0);return r!==n?(console.warn(`Number of ignore begin and end comments do not match in file "${e!=null?e:"input"}". Found ${r} begin comments and ${n} end comments. Skipping file`),!1):!0}function M(e,t){let r=e.split(`
`),n=0;for(let o=0;o<r.length;o++){let l=r[o].length+1;if(n+l>t)return o;n+=l}return-1}function Ae(e){let t=[];if(x(e,O)===-1)return[];let r=e,n=0,o;for(;(o=x(e,O))!==-1;){let l=n+o;n=n+o+O[0].length,e=e.slice(n);let c=x(e,R);if(c===-1)return console.warn(`Failed to find end ignore comment for ignore begin comment on line ${M(r,l)}, ignoring file`),null;t.push({start:l,end:n+c}),n=n+c+R[0].length,e=e.slice(n)}return t}var y=null,we=!1;function Ce(e,t=!1){return y&&!process.argv.includes("--sort-imports-reinit")&&!t||(we&&setInterval(()=>{y=null},de).unref(),K(e),y={importTypeSorter:q(e)}),y}function T(e,t,r=!1){if(e.includes("// sort-imports-ignore")||e.includes("//sort-imports-ignore")||!ke(t.filepath,e))return e;let n=Ce(t,r),o=Ae(e);if(o===null)return e;let l=t.filepath||"file.ts",c=p.createSourceFile(l,e,p.ScriptTarget.Latest,!0,l.endsWith("ts")?p.ScriptKind.TS:p.ScriptKind.TSX),i=Oe(c,t.stripNewlines,o).reverse();for(let s of i)e=Ee(s,e,t,n.importTypeSorter);return e}var Q=(e,t)=>({typescript:A(k({},e),{preprocess:e.preprocess?(r,n,o)=>T(e.preprocess(r,n),n,o==null?void 0:o.clearCache):T}),babel:A(k({},t),{preprocess:t.preprocess?(r,n)=>T(t.preprocess(r,n),n):T})});var Ne=Q(X.parsers.typescript,Z.parsers.babel);module.exports=ce(Be);0&&(module.exports={options,parsers});
